<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>brping.device.PingDevice &mdash; ping-python  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="brping.ping1d" href="brping.ping1d.html" />
    <link rel="prev" title="brping.device" href="brping.device.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ping-python
              <img src="../_static/ping.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="brping.html">brping</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="brping.definitions.html">brping.definitions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="brping.device.html">brping.device</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">brping.device.PingDevice</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#brping.device.PingDevice"><code class="docutils literal notranslate"><span class="pre">PingDevice</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="brping.ping1d.html">brping.ping1d</a></li>
<li class="toctree-l2"><a class="reference internal" href="brping.ping360.html">brping.ping360</a></li>
<li class="toctree-l2"><a class="reference internal" href="brping.pingmessage.html">brping.pingmessage</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ping-python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="brping.html">brping</a></li>
          <li class="breadcrumb-item"><a href="brping.device.html">brping.device</a></li>
      <li class="breadcrumb-item active">brping.device.PingDevice</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/brping.device.PingDevice.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="brping-device-pingdevice">
<h1>brping.device.PingDevice<a class="headerlink" href="#brping-device-pingdevice" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="brping.device.PingDevice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">brping.device.</span></span><span class="sig-name descname"><span class="pre">PingDevice</span></span><a class="headerlink" href="#brping.device.PingDevice" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#brping.device.PingDevice.__init__" title="brping.device.PingDevice.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brping.device.PingDevice.connect_serial" title="brping.device.PingDevice.connect_serial"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect_serial</span></code></a>(device_name[, baudrate])</p></td>
<td><p>Do the connection via an serial link</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brping.device.PingDevice.connect_udp" title="brping.device.PingDevice.connect_udp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connect_udp</span></code></a>([host, port])</p></td>
<td><p>Do the connection via an UDP link.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brping.device.PingDevice.get_device_information" title="brping.device.PingDevice.get_device_information"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_device_information</span></code></a>()</p></td>
<td><p>Get a device_information message from the device</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brping.device.PingDevice.get_protocol_version" title="brping.device.PingDevice.get_protocol_version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_protocol_version</span></code></a>()</p></td>
<td><p>Get a protocol_version message from the device</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brping.device.PingDevice.handle_message" title="brping.device.PingDevice.handle_message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">handle_message</span></code></a>(msg)</p></td>
<td><p>Handle an incoming message from the device.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brping.device.PingDevice.initialize" title="brping.device.PingDevice.initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize</span></code></a>()</p></td>
<td><p>Make sure there is a device on and read some initial data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brping.device.PingDevice.read" title="brping.device.PingDevice.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>()</p></td>
<td><p>Consume rx buffer data until a new message is successfully decoded.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brping.device.PingDevice.read_io" title="brping.device.PingDevice.read_io"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_io</span></code></a>()</p></td>
<td><p>Read available data from the io device</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brping.device.PingDevice.request" title="brping.device.PingDevice.request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">request</span></code></a>(m_id[, timeout])</p></td>
<td><p>Request the given message ID.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brping.device.PingDevice.wait_message" title="brping.device.PingDevice.wait_message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_message</span></code></a>(message_id[, timeout])</p></td>
<td><p>Wait until we receive a message from the device with the desired message_id for timeout seconds.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brping.device.PingDevice.write" title="brping.device.PingDevice.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(data)</p></td>
<td><p>Write data to device.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.connect_serial">
<span class="sig-name descname"><span class="pre">connect_serial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baudrate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">115200</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.connect_serial" title="Link to this definition"></a></dt>
<dd><p>Do the connection via an serial link</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device_name</strong> (<em>str</em>) – Serial device name. E.g: /dev/ttyUSB0 or COM5</p></li>
<li><p><strong>baudrate</strong> (<em>int</em>) – Connection baudrate used in the serial communication, defaults to 115200</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – Failed to open the given serial port</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.connect_udp">
<span class="sig-name descname"><span class="pre">connect_udp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">12345</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.connect_udp" title="Link to this definition"></a></dt>
<dd><p>Do the connection via an UDP link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str</em>) – UDP server address (IPv4) or name. Defaults to None.</p></li>
<li><p><strong>port</strong> (<em>int</em>) – Port used to connect with the server. Defaults to 12345.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.get_device_information">
<span class="sig-name descname"><span class="pre">get_device_information</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.get_device_information" title="Link to this definition"></a></dt>
<dd><p>Get a device_information message from the device</p>
<p>Message description:</p>
<blockquote>
<div><p>Device information</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>None if there is no reply from the device, otherwise a dictionary with the following keys:</p>
<ul class="simple">
<li><p>device_type: Device type. 0: Unknown; 1: Ping Echosounder; 2: Ping360</p></li>
<li><p>device_revision: device-specific hardware revision</p></li>
<li><p>firmware_version_major: Firmware version major number.</p></li>
<li><p>firmware_version_minor: Firmware version minor number.</p></li>
<li><p>firmware_version_patch: Firmware version patch number.</p></li>
<li><p>reserved: reserved</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.get_protocol_version">
<span class="sig-name descname"><span class="pre">get_protocol_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.get_protocol_version" title="Link to this definition"></a></dt>
<dd><p>Get a protocol_version message from the device</p>
<p>Message description:</p>
<blockquote>
<div><p>The protocol version</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>None if there is no reply from the device, otherwise a dictionary with the following keys:</p>
<ul class="simple">
<li><p>version_major: Protocol version major number.</p></li>
<li><p>version_minor: Protocol version minor number.</p></li>
<li><p>version_patch: Protocol version patch number.</p></li>
<li><p>reserved: reserved</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.handle_message">
<span class="sig-name descname"><span class="pre">handle_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.handle_message" title="Link to this definition"></a></dt>
<dd><p>Handle an incoming message from the device.
Extract message fields into self attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<a class="reference internal" href="brping.pingmessage.PingMessage.html#brping.pingmessage.PingMessage" title="brping.pingmessage.PingMessage"><em>PingMessage</em></a>) – The PingMessage to handle.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the PingMessage was handled successfully.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.initialize" title="Link to this definition"></a></dt>
<dd><p>Make sure there is a device on and read some initial data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the device replies with expected data, False otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.read" title="Link to this definition"></a></dt>
<dd><p>Consume rx buffer data until a new message is successfully decoded.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A new PingMessage as soon as a message is parsed, or None if the buffer is empty and no message has been parsed.
There may be data remaining in the buffer to be parsed, thus requiring subsequent calls to this method.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="brping.pingmessage.PingMessage.html#brping.pingmessage.PingMessage" title="brping.pingmessage.PingMessage">PingMessage</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.read_io">
<span class="sig-name descname"><span class="pre">read_io</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.read_io" title="Link to this definition"></a></dt>
<dd><p>Read available data from the io device</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.request" title="Link to this definition"></a></dt>
<dd><p>Request the given message ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m_id</strong> (<em>int</em>) – The message ID to request from the device.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) – The time in seconds to wait for the device to send the requested message before timing out. Defaults to 0.5 seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The device reply if it is received within the timeout period, None otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="brping.pingmessage.PingMessage.html#brping.pingmessage.PingMessage" title="brping.pingmessage.PingMessage">PingMessage</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.wait_message">
<span class="sig-name descname"><span class="pre">wait_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.wait_message" title="Link to this definition"></a></dt>
<dd><p>Wait until we receive a message from the device with the desired message_id for timeout seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message_id</strong> (<em>int</em>) – The message id to wait to receive from the device.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) – The timeout period in seconds to wait. Defaults to 0.5 seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The message from the device if it is received within the timeout period, None otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="brping.pingmessage.PingMessage.html#brping.pingmessage.PingMessage" title="brping.pingmessage.PingMessage">PingMessage</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brping.device.PingDevice.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brping.device.PingDevice.write" title="Link to this definition"></a></dt>
<dd><p>Write data to device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>bytearray</em>) – Bytearray to write to the device.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes written.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="brping.device.html" class="btn btn-neutral float-left" title="brping.device" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="brping.ping1d.html" class="btn btn-neutral float-right" title="brping.ping1d" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Blue Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>